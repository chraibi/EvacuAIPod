 Hello and welcome to the Fire Science Show, episode 13, an important topic, important subject for all fire scientists, fire engineers. Today we're going to touch CFD modeling, the computational fluid dynamics and its use and abuse in fire science and engineering. And to be honest, this is why I started the podcast, to be able to speak, to talk on topics as important as this one, in a free and easy environment. And hopefully this will yield something good for the fire community. Today with me is my dear friend. is my dear friend, and we've spent hours and hours chatting about modeling, fire science, fire engineering, years back in time, and these discussions with him have helped me tremendously, clarifying some of my ideas, concepts that have later actually yielded me my professorship at ITB. And our talks about CFD gave me this immense insight into how the modeling works. What are we actually modeling? How can we use it better? And when should we not use modeling at all? And as you can imagine, the friend is today here with me. It's Dr. Wolfram Jahn from Pontificial Catholic University of Chile. Wolfram is already a superstar in fire forecasting and data simulation subjects, and he's also very patient in using the CFD with a great insight into how the codes work. And we're gonna get back to the all good discussions about modeling we had, And probably the one today is the best one we've had, and luckily it's been recorded, and now it is shared with all of you. So before we start to make sure we're on the same page, CD, the Computational Fluid Dynamics, is a method, a tool, that's being used to solve the flows in fires, so with the use of complex numerical methods and Navier-Stokes equations. And as of today, it's probably the most commonly used tool, so I really hope you had a chance to experience it and probably use the fire dynamics simulator, the ADS, the most popular CFD model there is. And if not, I'm going to drop some beginner's resources in the show notes so you know where to start educating yourself in the field of field models and CFD. So, yeah, I don't think this needs a longer introduction. I really hope you like this episode about CFD. So, yeah, without further ado, let's spin the intro and jump into the episode. Welcome to the Firesize Show. My name is Wojciech Wigrzy≈Ñski, and I'm hosting Dr. Wolfram Jan from Pontificial Catholic University of Chile. Hi Wolfram, good to have you. Hi Wojciech, how are you? Thanks man, thanks. Really happy that I got you on the show. Yes, thanks for having me. Especially given the subject we're going to discuss on the use and the abuse of CFD modeling, computational fluid dynamics modeling. We're both having over a decade's experience, both in practical and scientific use of CFD. And I hope this will give some depth to the listeners on how these models are used and abused. So given the decade of experience, you have definitely more than I do. And I would like to start with something from deep from your past. 15 years ago, you've done these experiments in Dalmarnock, which were cornerstone for understanding the limits of CFD. which were cornerstone for understanding the limits of CFD. I was wondering if you could imagine how the CFD was done at the Dalmarnock time and today. What's changed? Well, first of all, I didn't actually take part in the experiments because I arrived just a week after. Oh, how unlucky. Yeah, very unlucky but I did a lot of modeling of the fire and trying to reproduce these experiments with CFD so well there has been a big change in the software I used I used FDS that basically changed from I started using version 4 and it's now version 6 and the numerics have changed quite a bit and they've improved quite a bit. So there has been an improvement in that sense but I would say that if we repeated this exercise that we did after, well, not only we, many many people around the world participated in this round-robin simulation of Dalmarnock. And I would venture to say that the results of that, using FDS6 or whatever other CFD package there is around, would probably have the same results. There wouldn't be very much improvement in reproducing the experimental data blindly. Yeah. For the listeners who are not aware of Dalmarnock, that was a project done in Edinburgh, right? Yes. Dalmarnock is a district in Glasgow, I think, where the experiments took place. And they basically asked a bunch of engineers and scientists to predict what a fire in a compartment fire setting will look like by giving the details of the fuel, the compartment, the ventilation. Then they've burned the thing and came to realization most of people got it at least wrong, if not horribly wrong. Yeah, I mean, essentially what happened is that the spread of the proposed cause of the fire was more or less covering the whole, you know, imaginable spectrum. was more or less covering the whole imaginable spectrum. So the actual event was somewhere in the middle. You could almost say it was some kind of average of what people predicted in a way. And obviously that led to the conclusion that you can't blindly predict fire dynamics using any model really. It's not only CFD. was some some zone modeling as well so when you do cfd modeling and fire you have to you have to be very aware of what you actually can do and what you can't do the cfd bit is actually the easy part i know for those who for those who develop cfd this is um it's a bit heretic to say and and I'm not saying that CFD is easy. It's just like if you try to predict fire, the fire happens in the interface, the solid gas interface. That's where the fire is decided, if you will. The CFD bit is only how the fluids move, right? So if you don't have the input right, then you will have the fluids moving in the wrong direction, basically. And that's essentially what happened. All of us who participated didn't have the fire right. No matter how cocky it sounds, solving Navier-Stokes for turbulent flow with a submodel is probably the easier part in doing that. Yeah, and the sad part in doing that. Yeah, yeah. And the sad part, if you will, you know, and all this development going into all these efforts going into developing these tools is only the easy part. Imagine how the hard part is. Yeah. So I've asked you about what's the progress, what's the regress, and I was thinking a lot about what changed in my practice when I when I remembered the first day in my office when I was given answers fluent to do my first CFD for a commercial project and how I did it yesterday one thing that's changed is definitely the computer power available and undoubtedly we can do so much more today than we could 10 years ago. But we will come back to that again, because in a way, it's also a bit disappointing that it did not solve all the issues we're having. The second thing I wrote is, at least in terms of answers, there was immense progress in meshing and discretization of the space. The meshes we can use today, like polyhedral meshes, these are absolutely amazing. I know they're probably useless to people not using ANSYS because you don't have access to them, but in terms of how can you create your models, FDS, the most popular software, has also undergone a lot of improvements and immersed boundary method with non-structured meshes is somewhere, let's say, around the corner. So hopefully the progress will be there. And the third thing I wrote down is BIM. And BIM is in a way positive because it allows us to build more detailed models of buildings. On the same hand, it's annoying as hell because it's sometimes very, very, very difficult to translate a Beam model into CFD model. Yeah. And it sometimes takes more time than just building it from scratch. So these three things I've crossed as a progress. Yes. Can I just jump in there for a second? This one thing is the meshing. FDS, as you know, is a very simple meshing. Cartesian mesh is structured, yeah. Yeah, very, very structured. And I can see where you're coming from when you say that better meshing, you know, being able to better reproduce geometry is a good thing. But there's a little bit of concern on that side because it might be that people focus even more on geometry. Because that's what happens now when people do CFD modeling, FDS modeling often. Since everything, especially in FDS, everything is set up beforehand. The only thing you really have to do is to build the geometry. All the rest, you can't, you shouldn't, but you can at least just basically use it out of the box. It works. You see what I mean? The only thing you actually have to do is to build the geometry. So actually have to do is to build the geometry. So people tend to focus only on geometry. And if you give them more features, if you will, you can focus even more on geometry and, you know, doing, if you will, a better job. But it's only really improving the visual output of it. Well, not only, but to a certain extent. output of it. Well, not only, but to a certain extent. Especially that you see people applying textures to walls, building transparent windows in post-processing so they look better. Exactly. So, as I said to you before, I don't want to be critical towards all these things because they're all very good and they're all very positive. The only concern I have is that by giving too many features, it opens the opportunity for people who don't really understand how to use these things to do sensible things in a way that, you know, oh, I've produced this simulation. And it looks very nice. It looks very real. It looks, you know, it's got windows and everything. But does it actually solve anything important? And does it solve that important thing rightly? And that's the thing where I'm a little bit concerned. You know, I wonder what would happen if it just has, you know, a very bare-boned CFD package. If that was the only option we had, would people use it as massively as they do now? I wonder. I don't know. Maybe it would. I don't know. That's something I think we have to keep in mind to train people to use it properly, to know its limits and being able to say, well, this is something that I should do and I can do it because of this and this and this. And this is something that we don't really need to do with CFD. As someone who's doing CFD not only for fire, I see where you're going and I see it's a valid point to the focus on what's being observed or what's being measured. If I do flow through a duct, a single measure giving me the volumetric flow at the output or some pressure points, monitoring this is absolutely enough for me to understand the results of my CFD. If I'm doing a fan or a pump, the curve of the pump is what I want to obtain, and that's what I'm going to process and model and see. So it's a very clean metric that characterizes the device. However, when you are doing a fire in a shopping mall, you have so many. You can observe smoke. I was moving with a beautiful 3D render of a smoky something in there, which is not necessarily smoke. You can show temperatures in slice at heights. You can observe velocities, pressures. There is so much happening around. It's difficult to focus on one single measure. And you're in a way lost in this richness of outputs, out of which each of them is in a way important and gives you something else. And then you receive some proxies of these outputs. You receive more beautiful smoke, you receive more beautiful fire texture in your building, and you may start focusing too much on these animations. Your simulation may be completely incorrect, but it looks beautiful and realistic because the flame is puffing, the smoke is moving. I think Mike Kinsey said something similar in our interview, that it's dangerous that people take an avatar moving away, very well animated in an evacuation model for a correct representation of modeling the person's decision or movement. Exactly. It's just the way how it's presented. And in CFD, we have something very similar, right? Yeah, it's colorful fluid dynamics, right? Oh, yes. And sometimes that's okay because there are times when you need to put a picture to the physics, and that's all right. I think science is, and not only science, engineering is a good portion, is about communicating. And in that sense, it's all right to do that, as long as the physics are right. If you use CFD in a sensible way and in an informed way, and if you know what you're doing, it's a very mature thing. It's a benefit, actually. Yeah, it's a tremendous benefit. And if you know what you're doing, I think that's the key. And that is the hazard, if you will, is that for being so easy to use, especially, and this is where I always point at FES, as opposed to other CFD packages. It's very easy to use. I mean, you don't have to do anything really other than building the geometry with a couple of blocks. Whereas if you use Ansys Fluent or OpenFoam or whatever, you need to think about boundary conditions and how to implement them. It's a bit more complicated. You need to at least um go through the the user guide if you don't really have to it's just it's too well thought if you will yeah it's uh i always considered myself having the perspective of working with answers fluent and you have the perspective of working with open foam both of our uh softwares are like workhorses that consists of so many models. I have like 30 turbulence models to choose from. And because I have the choice and what's very important, and I think this is very, very important, there is no default model. You start your simulation without any model chosen. The option is none. And, you know, you need to turbulent flow, and it's up to you to pick one of the 30. You're not given, yeah, this is the default model, but you can change it. No, no, no. You're given none, and you have to pick. And this changes the perspective a lot. And looking from this perspective, I always looked at FDS as extremely well-cur curated collection of sub-models that are good or the best for the FHIR problem. Yes, but that's what it's been designed to do. Exactly. That's giving the best tools for FHIR, you know, putting together the best models for FHIR. And that's actually, it does that very efficiently. It's just too easy. That's the problem. They've done it too good of a job. But let's go maybe a bit more conservative. Worst case, it's just too easy. That's the problem. They've done too good of a job. But let's go maybe a bit more conservative. Worst case, I'll cut this out. But because there is this collection of models, they all are very advanced. It's often that you end up using them for things you could solve in a more simple way. And turbulence is for sure one of these examples. Like LES is fantastic if you are going to simulate non-premixed combustion because the turbulent transport of air and fuel will be the thing that's driving the combustion processes, right? And this will be probably absolutely fundamental to have the vertices modeled in a perfect way. But if you prescribe your source of fire with just known heat release rate and you're just interested in the amount of energy released within a part of your space, then maybe this is, let's say, too good for the job. Maybe you could have solved that cheaper in a way. And now the thing that was, let's say, as important or as painful to me as it is now, 10 years ago, the time of calculations, the speed. And we come to the question of speed versus accuracy or speed versus complexity of the software or model as the physics of the model themselves. And not because I care that my calculations finish in one week time, not two weeks time. I mean, this is important to me. If you are an engineer and you have taken any choice based on the fact that it's going to calculate quicker or slower, it means you have been constrained with the solver speed or time in general. And that means this choice already had a huge impact on the output of your analysis. Even if in practice the time was as you liked, you reached your goal in time. The fact that it could have been slower if you'd done a different choice made you limit the available choices you had. And for me, this aspect is something I cannot go above because I see too many scientific publications where the researchers say that they've used pretty much horrible mesh because they were constrained with available computational resources. And to me, sometimes it's unacceptable. Yeah, well, that's a good point. I had to review a paper recently. I'm not sure I can say all this. Anyways, it was a very interesting paper, and they were simulating ‚Äì I won't go into details. A thing in a space? Yeah, no, it was fire spread, and they were using FPS to simulate fire spread. Okay. That is a challenging thing to do. Oh, yeah. And the decision mesh size was based on this ‚Äì D-star? Yeah, exactly, on that. Root of fruit number or something? Yeah, yeah And the decision mesh size was based on this‚Ä¶ The star? Yeah, exactly. The root of fruit number or something? Yeah, the fruit number. Dimensionless‚Ä¶ Dimensionless, that was the word I was looking for, exactly. And that definition basically tells you how resolved your plume is, right? But when you do fire spread, you need to worry about the flame. You need to get the interaction between the flame and the solid right. And so the plume is not really interesting in that sense. So they had a numerical mesh of 10 centimeters and wanted to simulate the fire spread, which is, I mean, if you look at the physics of fire spread, it doesn't make any sense. You can't solve the flame in 10 centimeters, right? But they got very good results, very, very good results. And not only for one, they basically kind of calibrated the model, but then changed conditions and still got very good results. So I thought, well, how is this possible? They didn't get the physics right. They couldn't. But it still works. So there must be, what I told them is, this is very interesting. Let me know where exactly all these uncertainties that you necessarily have when you use a big mesh, where do they cancel out? Because this is very interesting. If we can find a way of using a big mesh to get fire spread, that would be amazing. But we need to know where. Why does it work? So you should never adjust mesh size based on needs, on computational needs. You need to adjust mesh size based on what the physics tell you used to have. But in practice, I agree what people normally do. We are touching this important matter to what extent there can be non-physics aspects of your workflow that influence your your simulation and you said that you shouldn't limit this say size of the mesh because you don't have enough resources but also the same goes for like turning off sub models or limiting the number of angles on radiation model there are many choices that you can do to speed it up and on the other hand sometimes it may be useful i think we've uh we've discussed some time ago a coarse approach to to cfd and that it could be actually interesting to have a very simple model that calculates very quickly. Well, I've looked a bit into that. The problem is when you do coarse, very coarse mesh CFD, even if you take all the precautions to get the physics relatively right, is that you very quickly run into problems with the geometry. is that you very quickly run into problems with the geometry. For example, if you have a door, you need to have at least, you know, at least this, you know, anybody who comes from a CFD background will, you know... Yeah, please turn off when we're saying about the good practices. Yeah, yeah. But you have to at least one free cell between the boundaries of the door. So that means, you know, if you've got a one-meter door, you know, much closer than 30 centimeters is not really possible from the geometric point of view. Because, you know, if you use anything bigger than that, you're better off with a zone model to describe the geometry than with a CFD model. The same thing was observed with jet fans in car parks in here, because for some reason the 12.5 cm meshes were at some point a golden standard. It was due to the fact that you could have then a 40 cm jet fan or a 37 cm jet fan described with three cells. Yeah, in zone models, for all the simplicity, you have a ceiling jet model in there that models the behavior of the flow just below the ceiling. If you use CFD with a 50-centimeter grid, you're not solving the physics of the ceiling jet. So if you're interested in sprinkler activation, you might be better off with a zone model rather than a CFD model. Or just a simple calculation with Alpert's model or something. Well, yeah. That's a good point. Exactly. Yeah, that's something that is not obvious. You'd say, well, in a zone model, you've got two zones. In a CFD model, if I've got 100 zones, 100 cells, it surely must be much, much better than a zone model, you've got two zones. In a CFD model, if I've got 100 zones or 100 cells, it surely must be much, much better than a zone model. And it's not because the physics are different. Solves are treated differently. And I think that's a very important point. Yeah, that's true. I also think in cases where you're interested in simple flows through openings, you've mentioned doors, but this goes general for many openings. If you, for example, have a small leakage from a compartment and you would like to know how much smoke will pass through that leakage from this compartment to your corridor, modeling that with CFD can be a tedious task to model leakages perfectly, while in a zone model you can solve that um fairly easy if i may because it is most of these models have good empirical models models for that exactly um the same goes for for very simple control systems in in small compartments obviously in large compartments you need to solve cft because the geometry starts to play a major role. But for very simple cases, you could go away with zone modeling. Actually, you could run a parametric study with a thousand fires and see the probabilistic outputs of your calculations instead of a single number from your CFD in the exact same time. So there definitely are things that are easier. For example, in tunnel modeling, it's something that's commonly being done is to use one-dimensional models to solve the whole network of tunnels. If you have a complex metro system, for example, and you would like to account for the flows in the whole of your system, to do a CFD model of that, wow, that's a lot of work to do. A CFD model of that, wow, that's a lot of work to do. But building a one-dimensional model, reduced order model of the whole network, just to solve for pressures and flows, this is not a simple task, but it's much easier, quicker, and in many cases, more reliable, actually. Yeah, you could always combine to some kind of multi-scale model. Like, you know, this near field, you do a CFD simulation, the farm recognition based on network model for the far field. You know, all these things in theory exist. But again, to do that, you would need to understand what you're doing. You know, quite profoundly, it's not trivial to use these more, you know, it's not trivial to use simpler models. We're again at the same point. not trivial to use simpler models. We're again at the same point. I mean, at this point in time, it's easier, more trivial to use a full CFD model than to use some kind of reduced model, because the reduced model implicitly requires you to understand why, you know, what are the reductions in the model. Whereas in CFD, you don't really need to. You just, you know, put in the thing and you run it and you get a very beautiful result. And that's it. And I think that is the real danger, I think. In wind engineering, we have these quotes from famous people in a paper by Bert Blocken that summarizes 50 years of computational wind engineering, if there are two quotes that I like. One is that a simulation is wrong until proven. So that's what engineers take to see the simulations. And the other one, even better, is that the worst thing is not a simulation that looks bad. It's a bad simulation that looks good. And that's really a huge challenge as well within the fire. So we've touched some cases in which the CFD may be not the best tool for the job. But now imagine you are a frontman engineer and you have your boss or maybe your client or maybe the fireman that's going to accept your work, ask for analysis of problem. And as you said, it's sometimes easier to do CFD than find a tool for the job. What could we recommend to all the engineers in the world? How to deal with that? Like, do you really have a choice to not do CFD, to pick a tool on your own? Well, that's a very good question. It happens in Chile in particular. I don't know if this happens elsewhere as well. It happens here that sometimes the requirements of the client, they don't say CFD, they explicitly say FDS. Because there's somebody there, it happens a lot in public works, like hospitals and stuff, because there's someone in the ministry who, you know, has a basic understanding of fire and has heard the words, let's put that. So they know FDS, so they require FDS simulations of, you know, of rooms, I've seen that. You read that and say, well, you know, I have to do this. Even though I know it doesn't add anything to the project, I need to do the simulations. Basically, what I do is I do all the things that have to be done to make sure it's safe. Then I simulate it for the client to have the pictures and to check the box. That is definitely a problem. It might be a client, it might be your boss who tells you to do some simulations. Again, I think the solution is to educate. If you know better, well, prepare a presentation and tell your boss, this is what should be done. We can do CFD and get know get some nice pictures if you will but we should actually you know make sure that everything is done properly by using this and this and this and you know I think when it comes to for example modeling compartments and or getting this very first results in your project usually two things are really powerful uh in in in the discussions with uh people in the position of power one thing is time you can usually argue that with a simpler model you you are able to deliver results in a quicker turnover time, which means you can almost instantly answer questions of the designers. And that's something that usually brings them along, because they are usually aware that CFD takes time, and you sometimes have to wait weeks for results. aware that CFD takes time and you sometimes have to wait weeks for results and when you tell them, okay, I can give you simulations with the same accuracy or almost the same accuracy, maybe even better, for this particular problem and I'm able to simulate them within an hour or when the designer tells me new value of the mechanical smoke exhaust from a compartment i can give him like within the same phone call i can probably answer his question based on the simulation results if that helped or not or what will be the general outcome of like placing sprinklers in this compartment time is like priceless. Yeah, but you must make sure that he believes you, basically. And I think this is, again, the problem. So there is some education you need to do. Of course, yeah, but I want to be very practical in here. I want to give the audience really good advice. How can you convince someone that using a different tool than CFD is really fit? Because I know it's a difficult job to convince someone they don't need CFD. God, we're living in a times where really convincing someone they do not need CFD is 10 times harder than convincing them they do need it. So it's really ridiculous. In that sense, time would be the obvious argument. And the second argument is the probabilistic approach. You can run thousands of simulations of the same problem, getting a thousand answers for your problem. And this, my colleague Adam calls it the multi-simulation. It's much more powerful because it allows you to identify the critical scenarios in a way. And while in a CFD, in many times it's just a CFD process is mostly an engineer's judgment with a very fancy calculator. Because the biggest choice being the fire and its location is on you, it's on the engineer. And the smoke movement, the temperatures, the detonability conditions, it's just an outcome of a fancy calculation. But the biggest choice, the biggest impact is you and your choice of the input. Whereas in zone modeling, for example, you lose the fanciness of your calculator a bit, but you can move yourself out of the input. That is actually a very good point, because when you select your file, you go to the SFPE handbook, and then you get your growth rate based on some experiments that were done, what, 50 years ago? And you decide that your particular scenario is actually a fast-growing file. And everybody will accept that because, you know, you did your job. You went to the proper book and you got the real, you know, the proper value, and it's all right. But as you say, it might not be the right value and it might be better to have run 200 different simulations and come up with an average value that's much more representative. Well, good point. And that, I think, brings us back to the initial problem that in CFD you rely, you don't really simulate the fire. You simulate the smoke of the fire and how it spreads through the compartment. The simulate the smoke of the fire and how it spreads through the compartment. The rest of it, which you can do to some extent and simulate interaction, the combustion and all that, but it's much less clear that what you do does actually represent the reality, especially in the context of engineering, of consultancy. If you do it in a scientific way, you've got much more time and resources to do this properly. But if you do a consultancy project, at least in theory, when you do a consultancy project, you've got a week to get the results, which means you need a week to run it, to get the results, which means you need a week to run it, which means you've got the morning to set the model up and doesn't give you the time to think about it properly. And the file that you select at the beginning has a major impact on the results. So you segued me to another question I wanted to ask you. What can really be modeled? And before you answer me that general that uh the general question with probably no answer but let me give you a an anecdote from my own um courtyard uh how we had been approached on the project we were doing a road tunnel and for road tunnels i mean they did i i really enjoy working on tunnels and road tunnels in particular, and they're actually really complex for something that's a straight pipe. But we were doing this project for one of the road tunnels. And we've done our general CFD and then delivered the first package. The question was, what would happen in a very uncommon wind scenario? What would happen in very uncommon meteorological scenarios? And to answer that, we said, okay, if you want to answer to this question, this simulation of a pipe is not enough. I have to model the exterior of my tunnel. I have to model the portal areas. I have to model the geometry of the space around the buildings because if I want to solve wind, I need to do that. And they were like, okay, yeah, go on, do that. We need that. We need that answer really badly. So I've done that. I've added this exterior of the model. I've run the simulation. The results were more or less the same. And they've delivered the project. Then the smart guys were, oh, wait, wait, wait, wait. There's a major problem with your tunnel. I mean, what's the problem now? And there is no vehicles inside. And I'm like, because it's a simplification with two vehicles are just a way to increase the roughness. They overall will give me like five pascals of resistance over the length of the tunnel. They don't matter that much. And the guy was, no absolutely we need the vehicles in the tunnel and i was like okay we can add the vehicles in the tunnel but it's gonna cost a lot because to model them i'm like i'm not gonna drop a block with one cell i wanted to model it properly with like uh space underneath the vehicle and and above vehicles if i'm if i'm doing it i'm doing it right so yeah we came back office the office. We've done the increase in complexity of the simulation, including the vehicles. And now the simulations were really complex. They took a long time to calculate. Eventually, we got them. We delivered the project and the guys, yeah, but the vehicles are not moving. And I'm like, are you serious? And the guy is, yeah, but the vehicles are not moving. And I'm like, are you serious? This is where I put the stop. This is where I put stop to it. I mean, I know how to model moving vehicles. And this is going to take a year and cost you a million euros. And then the guy was, okay, you don't have to make the vehicles moving. But this guy was just raising expectations based on his, like, intuitive thought of what can be added. And to me, like these complexities are like building a Swiss watch. I mean, a watch with the measures time is great. But if you add the calendar, moon phases, tides to that, it suddenly costs more than your house. So it's the same with CFD. It is the same. And actually, you know, in your case, probably the results didn't really change. No, they didn't. They did not. No, so it doesn't really matter. It's not. But, you know, if you do it with fire, you might actually, because if you don't do the fire right, you know, the combustion and the fires, you might get wrong results. the fires, you might get wrong results. So you might think you're doing a better job, and you model the spread of the fire rather than inputting a heat result, I'll put the spread of the fire into it to make it more realistic. But since you're doing the spread right, because you don't get the physics right, you actually end up with the worst result. You see what I mean? So it actually does pose a serious problem to... In my case, it was more a computational cost that has been added to the CFD. I did not really add much realism. Quantitatively, the results may have changed by like 5%, let's say. Okay, I had more complex turbulence inside the tunnel because of obstacles in there that were explicitly modeled. But I was like two times above my critical velocity anyway. So it didn't really matter if I exceeded it by 207% or 198, right? So the problem here is that if the client asks you to increase the realistic value of what you're delivering, you might get into trouble. Because, you know, from an outsider point of view who's never done fire safety engineering, you might say, well, I would like to know what happens, you know, when things in the room catch fire. So why don't you include that into your model? And you're okay. I go and do that. And I put some in an FDS. You can put the ignition temperature and all the values, and you go into all the details of looking up the values for the materials, and then you get a result. And that result, you know, is... You can even go as far as defining pyrolysis with some TGA test results. That's what I'm saying, which is excellent research feature. If I wanted to do research, and I do, that's amazing and I want that, but I don't want people, practitioners, using that without knowledge or without proper understanding of what they're doing. And that, I think, is the main problem in fire safety practice. CFD is used extensively, and sometimes, not always, I think probably in the most cases, it's used properly. And again, I wouldn't put it like it's abused massively all the time, but you have to be careful. You have to make sure it's used properly. I've put it in the title because, I mean, the abuse is on the scale. It's just maybe used too much or it's maybe given too much credit or maybe even that it is considered to be the go-to tool, you know, the simpler choice. It's like you have this simple, you need to dig a small hole, you will pick a shovel, not an excavator. And here we are using the most advanced excavator we have for the simplest problems. Yeah, that's true. But the excavator is very easy to use in this case. Yeah, that's true. It has a button to dig a hole. And so I know there are some particularities about the use of CFD in different countries. For example, in Poland, we would run CFD for almost every smoke control project there is, from car parks to shop into road tunnels. But I think car parks are a very Polish thing. We love simulating car parks. And I know that, for example, in the UK, corridors are their thing. They simulate a lot, for example, in UK, corridors are their thing. They simulate a lot of corridors, where in Poland we don't simulate corridors that much. You've mentioned hospitals, and I was wondering, what are the particular uses of CFD you're dealing with the most in Chile? Well, that's a good question. For example, hospitals, what they wanted to do in that particular project that was a few years ago, they wanted to know when flashover in a room would happen. So this is a patient room, you know, two people in their beds. So they have a certain fuel load, right? And they wanted to know, they wanted me to run FDS simulations to estimate time to flash over. Okay. And then you go, well, FDS doesn't actually do flash over or anything like it. So I don't know. So, yeah, so actually what I did, so there are very simple correlations that tell you, that can give you an idea of time to flash over. And then you're given an idea, and you get the results, and then you use the CFD simulations to somehow reproduce that result. Basically, it's the other way around. And how about structural fire engineering? Do you run, have you met many cases where you were supposed to deliver CFD as a part of structural fire engineering project? Because we, for example, in Poland, we are starting to get these for very like weird cases. I was doing like old chimneys in a power plant that has been turned into a shopping mall and stuff like that. But it's very rare. I've done it in stadiums. You've done it in stadiums? Okay. Yeah. And the heat fluxes to structural members. But you don't like run CFD as a general procedure for like structural fire engineering. That would be for a particular case. Yeah. But the thing is in Chile, the regulation on fire safety is very, very vast, I would say. But what we do have is fire resistance. That's very, very important. Basically, our code is based on the most important thing is fire resistance. And how about smoke control? Do you have smoke? Yeah, it's not part of any regulation, so it's not considered. We could do a podcast about that. Maybe we should one day. So a call to action for the listeners. Let me know what's the hot CFD item in your country. I am dying to know what people are simulating around the world. I don't know. Maybe you simulate sprinkler activation times, maybe you simulate smoke detection. Let me know what are the uses of CFD in your countries, because for some odd reason, it seems to be a country-related trade or a law system-related trends that dictate what's being simulated. And I'm absolutely dying to know what are you using CFD for? So I wondered from your perspective, you know, the CFD model has used in FHIR has all these important sub models like radiation model combustion sub models turbulence sub models in in simple words how do you think how important these models are for the like overall accuracy of the of the solution of your engineering problem? And to what extent should one play with them? That is a good question. I don't think you can give a general answer to that. I've done some tests with turning off submodels, and in many, many cases, they don't make any difference. In many cases. If you're interested in smoke spread, how far... How quickly the smoke layer decreases in a room. Yeah, so it depends very much on what you... Or what's the visibility in a room. Exactly, what the objective of your simulation is. And in many cases, you can just turn off many of the soft models and you'll be all right. You could actually use, since Fluent Answers, you use the fire normally, there's no combustion, right? You just use hot gases. Exactly. For many solutions, that's all you need. You don't need the actual combustion. And so it depends very much. Combustion is an excellent example because in ANSYS, as you mentioned, we usually release energy and heat. Well, we release heat and smoke products into our domain from our sources without explicit modeling combustion. In a way, in FTS, you usually actually do the same with an additional step of burning the fuel. Because what most people would do when running a CFD for a practical engineering problem, they would predefine the heat release rate curve for the project or heat release rate per unit area for the sources, which means they release just the exact amount of fuel to be burned to receive this exact amount of heat in the space with this exact amount of smoke being generated from these chemical reactions, which you prescribe in detail anyway. So in a way, it's the same thing, but with additional steps. It's a good point because one of the arguments of using the combustion is that, yeah, well, you get the smoke release and it should be more realistic. But again, when you introduce a heat release rate in FBS in particular, you've got two ways of doing that. One is that you prescribe a ramp with a fixed fire area, and that's the usual way of doing it. The alternative way is of saying, of actually prescribing a spread rate over an area, and then, you know, it spreads at a constant rate, and in that way you produce the T-squared fire. But people normally, and I'd say, I don't know what percentage, but I assume that most people, when they do implement a T-squared fire in FDS, they use the fixed area with the ramp. And that actually from the physics is quite wrong because you get the flame height completely wrong over time. the flame height completely wrong over time. So again, you might come to a point where actually making it more realistic by having combustion, you might get worse results because your flame structure is completely wrong. Sorry, back again to the basics. But if it is a T-squared fire, then by assumption, it's something you have prescribed from start to the end. Like the amount of the products of your fire, energy, and smoke, the things that in the macro scale of a compartment are the ones that you are tracking, is already predefined in the alpha T squared relation, not in the combustion or reaction. or a reaction. What I lose by not solving chemistry is that if I have a compartment with two square meter opening and I release 50 megawatts inside, it will be released. Whereas in FDS, it would not burn because I would run out of oxygen. So there are limits. And this is an example of a situation where these additional submodels have played an immense role because it stopped me from doing horribly wrong error in my calculations. let's say, aware user or someone who knows what they're doing, I should pick that up on my own without having the software tell me. The other question, for example, is radiation model. This is like super interesting to me because I don't know if this is a thing. Maybe it's something that I consider. But from my perspective, most of the people would think that we need radiation sub models in fire CFD to calculate how much heat is going into like let's say obstacles walls or something but I think we need it for a completely opposite reason we need to know how much heat the smoke radiates away. So in a way, how it cools down and that affects the smoke movement. And that's a much more profound effect. And this is the way why, in my opinion, the radiation model, if you just do general smoke calculations, does not have to be extremely, let's say, precise. And if you take a look at the defaults of FDS, the basic model, if I am not wrong, has 108 discrete angles, which is not much. That's not a huge number that doesn't allow you to resolve a full spherical, let's say, distribution of heat from a single numerical element, you would need like 5,000 of angles to do that. So the model itself is generally quite coarse. But here, again, the default one is, let's say, very basic. But if you are truly interested in this point-target relation or how much your target would receive, you must be an advanced user because you must know that you need to up the settings of your model to actually receive more realistic or you could just say correct results, right? It's another example of something that is very useful, but probably more from a scientific point of view than from a practitioner point of view. Especially because since it has a default value, nobody looks into that. Nobody changes that value. At least, that's my experience. That's, again, my favorite episode with Mike Kinsey, biases and the default bias, which means people tend to use the default value and think that the value is correct. Another example from the same field is the default value of FDS4. It was some really low value. People were using that to simulate like car fires. I have another one for you. Since you're a lecturer, what would you recommend to users of CFD models? Here you use the keyword education, that it's very important to educate yourself, and it is as important to educate others. And going back to the tunnel problem, I've mentioned the silly project we had. After that, we actually made a conference in which I had a quite long presentation on what can be modeled in tunnels and what cannot be modeled in tunnels and what makes sense, what doesn't make sense. And since then, that time, I didn't have such issues anymore. So education is important. So what resources you would recommend for people to follow to become better engineers and gain new skills to educate others. For a FHIR CFD point of view, like for a FHIR practitioner, I would tell them to go back to the basis, look into zone modeling, see why you would not use zone model for this particular problem. Go understand the old masters. What is the basis of this plume theory? And understand that. And when you understand that, you can say, well, okay, this is good. But for my particular problem, I need to solve this. And here, my only tool is CFD. Wow. This is a pristine piece of advice. I mean, you could go and challenge yourself. Is it true that I cannot solve this issue with a simpler model, like when you have a project? I think it would be very, very beneficial. Yeah, go on. The same goes for zone modeling, really. I mean, when you do zone modeling, you use Heskestat's plume, right, to model the fire, and that is questionable as well, because all the experiments were done in open places, in open spaces. So, you need to question yourself and say, well, I want to do this. Let's try a simplest model, although I go and use Alpert's correlation. Oh, I can't use Alpert's because it's closed, right? I mean, it's an open. So I can't, okay, if I can't use Alpert, I'll try to use his own model. You know, go to the next level and see why, you know, where the restriction becomes too tight and doesn't allow it to improve. And then you go to the next step of complication. And you stop when you can solve your problem, basically. I think this is an excellent piece of advice. For myself, the resources that really helped me was obviously the SFP handbook, where you have an answer for almost any question you have, maybe. And for myself, a hugely valuable resource, which I recommend to everyone, is the resources from the Summer School on Fire Modeling that was carried in Germany by Professor Arnold and NIST and VTT. And this series of lectures has such a great value because they give practical problems and answers to these problems. And, yeah, it's amazing. And one more thing that I would recommend to absolutely everyone who is dealing with FDS, and especially to students or young engineers who are just learning CFD modeling, is to truly dive deep into the examples of FDS. Yeah. And FDS has an excellent, excellent library of example studies showcasing the various aspects and submodels of the software. Yeah, and it's not only showcasing, it's VNV, so they do all the validation, verification, and that's a tremendous value that probably nobody looks at, or very few people look at. And it ships with every FDS distribution. It's all there, so you should actually use it. This is probably if you're FDS specific, rather than reading the technical guide, which might be a bit braille and very mathematical, go into the VNV guide, which is very good. It tells you exactly what FDS can do and what it can't do. So I think that's a very good. And when you install FDS, they're going to be in the same folder, so you don't have to search... There's a full documentation, it's all in there. And there's, I remember a good presentation by Benjamin Ralph from London conference that's on YouTube, actually, I'm going to link that in show notes, that describes the VNV process for FDS. So I hope that's another resource you can tap into. Okay, I'm going to have a look at that video. Oh, it's worth it. It sounds interesting. It's definitely interesting. So in your work, I also know that you deal a lot with forecasting fire growth, and we've talked about that a few years ago. And I remember you were very salty about that because like 10 years ago when you picked the project or the topic of forecasting fire, you hoped that eventually the computational power will catch up and CFD will be done in in real time and that will open. Yeah, that didn't happen. No, that didn't happen. Actually, that's something that has not changed the speed of our calculations. But what do you think is the future of CFD in this forecasting? In forecasting? Yeah, well, you know, in my more research-related stuff, I've switched from forecasting to data synthesizing. Okay. Basically, what I think is probably something that we could do in the foreseeable future is that rather than, you know, imagine you've got the fire services and they go into a building and ideally you have this screen telling you, you know, do this and this and this and you'll be fine or, you know, based on forecasts. That's probably not going to happen. What could happen, though, is that they get all these data from sensors in the building and the data is always obviously at boundaries, right? And you could have used CFD to fill out the gaps, basically, to relate boundary values, sensors, to the prior source, for example, and use CFD types model. That's something that you still use. You still need CFD in real time, but not in super real time, because real time is one thing, but for forecasting, you need super real time. You need to have the forecast before it happens. Otherwise, it doesn't make much sense. I think that's the goal now, I think. Rather than forecasting, I'll leave that to my grandsons. I'm aiming for synthesizing. Let's try to ‚Äì it's always ‚Äì this is important ‚Äì always data. The more data you have, the better your forecast will be, right? And let's say the further to the future you will be able to look. And without data, it's just a probability that this particular scenario will occur, right? So it's always data-driven. And in that sense, I think I'm aiming for data synthesis rather than forecasting of action. I'm a huge fan of Professor Arnold from Ulish, and I know they are developing some solvers for fire simulations that are built on the GPU architecture, not CPUs, but GPU, graphical cards. And the difference is that in modern graphical cards you have hundreds if if not thousands, of single processors that work in parallel. So it's absolutely massively parallelized simulations, whereas in usual CFD projects you use, let's say, 8 CPUs, 16 CPUs, sometimes more, sometimes less. So that also limits your capability to simulate it very quickly. However, there's definitely a lot of challenges. But I think if a switch to GPU-based calculations is even possible, if that happens, it could be a major game changer in the industry. It could be a major game changer in the industry when you, I mean, imagine the world where calculation time with CFD would not be a factor. Like, imagine what would happen if you could solve them as quickly as you solve zone model. Yeah, that'd be amazing in some aspects. own model. Yeah, that'd be amazing in some aspects, but it wouldn't solve some of the fundamental problems that we talked about earlier. It would still be heavily biased based on the user experience and user knowledge. So, yeah. And for your data synthesis, I had this episode with Sinyon Huang. I recommend that because it was a whole episode on the use of AI in fire science. And what Sinian said is that the CFD, like the AI, is really strong because the time-consuming task, meaning all the CFD required to get the results, has been done in the past. And you're just tapping into the results. So you're not wasting time for calculation. Exactly and that's also a powerful route forward. Oh yeah, there are a few options out there and it looks good but there's still some challenges to tackle. So for the end, the big question is CFD really the go-to tool for fire engineers? Like, is it really the one and only tool that we need to use? No, it's not the one and only. I think it's the one that you need to use when you need to solve a certain problem. And that's, as I said, it should be from the basics up. You need to know how to use CFD. You can't be a fire safety engineer, well, in the 21st century and not have a notion of CFD, not modeling. Eventually you will come across it. But you should know your alternatives and should know the limitations of all the alternatives and then select your tool based on that. Okay, man. I think we've covered everything. So, yeah, that was a really good chat with you. Yeah, I enjoyed that. I knew it was going to be good. Thank you so much for coming to the podcast and touching this extremely important and sensitive... No, you're inviting me. Hope we can meet each other in person soon-ish. Soon. Yeah, hopefully. Hopefully. Thank you so much, man. Thank you. See you around. Thank you very much for inviting me, Wojtek. See you. So that's it. That was the CFD modeling, the use and abuse of computational fluid dynamics with Dr. Wolfram Jan. I hope you really enjoyed this episode. For me, the important takeaways are, first, the education. You need to know how these things work to educate yourself to become a better engineer and educate others to prove your point, to not go into stupid CFD analysis like we had to do. Because we're living in a world where more complex, more advanced CFD is sometimes sowed over a simple analysis. The second thing is what Paul from mentioned, and how to become a better engineer. Try to use the simplest model for a task and see if it works. And if it does work, why does it work? If it doesn't work, why does it not work? And then scale up from simple calculation models into the zone models, then into the CFD, and learn where are the boundaries between them, and where can you apply them in practice. And this will help you do the projects not only faster but more reliably. And, in fact, sometimes you'll get better results using simpler models. And, yeah, this is a tough advice to give during a CFD episode because you probably could expect we'll tell you, okay, use this size of a mesh and you're going to be good. But it's not that simple. It's always a choice, and you're engineers. You have to engineer these choices along. And finally, remember the call to action. I am absolutely dying to hear what are the trends in CFD modeling in your countries. What are you using CFD for? What crazy types of projects do you use them for? In Poland, we're the car park country, and I want to know what's happening in your countries. I'm really interested in that. So I hope you enjoyed this episode. We're going to do more of them, I hope, in the future. And yeah, if you like this,. We're going to do more of them, I hope, in the future. And yeah, if you like this, share it with somebody. And see you in the next Wednesday. Thank you. Bye. This was the Fire Science Show. Thank you for listening and see you soon.